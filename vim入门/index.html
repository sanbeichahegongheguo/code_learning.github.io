<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.54.0" />
  <link rel="canonical" href="https://sanbeichahegongheguo.github.io/vim%E5%85%A5%E9%97%A8/">

  

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://sanbeichahegongheguo.github.io/css/prism.css" media="none" onload="this.media='all';">

  
  
  <link rel="stylesheet" type="text/css" href="https://sanbeichahegongheguo.github.io/css/styles.css">

  <style id="inverter" media="none">
    html { filter: invert(100%) }
    * { background-color: inherit }
    img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
  </style>

  
  
  <title>vim入门 | 火山灰</title>
</head>

  <body>
    <a href="#main">skip to content</a>
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper">
      <header class="intro-and-nav" role="banner">
  <div>
    <div class="intro">
      <a class="logo" href="/" aria-label="火山灰 home page">
        <img src="https://sanbeichahegongheguo.github.io/images/logo.svg" alt="">
      </a>
      <p class="library-desc">
        
          ~Stay hungry，Stay foolish~
        
      </p>
    </div>
    <nav id="patterns-nav" class="patterns" role="navigation">
  <h2 class="vh">Main navigation</h2>
  <button id="menu-button" aria-expanded="false">
    <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
      <use xlink:href="#menu"></use>
    </svg>
    Menu
  </button>
  
  <ul id="patterns-list">
  
    <li class="pattern">
      
      
      
      
      <a href="/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Home</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/post/" aria-current="page">
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Blog</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/tags/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Tags</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/about/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">About</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/index.xml" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">RSS</span>
      </a>
    </li>
  
  </ul>
</nav>
  </div>
</header>
      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>
      <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
        <use xlink:href="#bookmark"></use>
      </svg>
      vim入门
    </h1>
    <div class="date">
      
      <strong aria-hidden="true">Publish date: </strong>Dec 31, 0001
    </div>
    
      <div class="tags">
        <strong aria-hidden="true">Tags: </strong>
        <ul aria-label="tags">
          
            <li>
              <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                <use xlink:href="#tag"></use>
              </svg>
              
              <a href="https://sanbeichahegongheguo.github.io/tags/coder/">Coder</a>
            </li>
          
            <li>
              <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                <use xlink:href="#tag"></use>
              </svg>
              
              <a href="https://sanbeichahegongheguo.github.io/tags/vim/">Vim</a>
            </li>
          
        </ul>
      </div>
    
    
      

  <nav class="toc" aria-labelledby="toc-heading">
    <h2 id="toc-heading">Table of contents</h2>
    <ol>
      
        <li>
          
          
          
          
          <a href="#%e4%b8%80-vi%e4%bb%8b%e7%bb%8d">
            一、vi介绍
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e4%ba%8c-vim%e4%bb%8b%e7%bb%8d">
            二、vim介绍
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e4%b8%89-%e5%b8%b8%e7%94%a8%e9%85%8d%e7%bd%ae">
            三、常用配置
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e5%9b%9b-%e6%8f%92%e4%bb%b6">
            四、插件
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e4%ba%94-%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c">
            五、常用操作
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e5%85%ad-%e5%bc%82%e5%b8%b8">
            六、异常
          </a>
        </li>
      
        <li>
          
          
          
          
          <a href="#%e4%bd%bf%e7%94%a8">
            使用
          </a>
        </li>
      
    </ol>
  </nav>


    
    

<h2 id="一-vi介绍">一、vi介绍</h2>

<h2 id="二-vim介绍">二、vim介绍</h2>

<p><img src="./images/vim8.png" alt="img" /></p>

<h3 id="1-基本介绍">1、基本介绍</h3>

<p>先摘录一下官网：</p>

<p><img src="./images/0xbabaf000l.png" alt="img" title="comic" />
Copyright &copy; 2007 Laurent Gregoire</p>

<blockquote>
<p>Vim is a highly configurable text editor for efficiently creating and changing any kind of text. It is included as &ldquo;vi&rdquo; ith most UNIX systems and with Apple OS X.</p>

<p>Vim is often called a &ldquo;programmer&rsquo;s editor,&rdquo; and so useful for programming that many consider it an entire IDE. It&rsquo;s not just for programmers, though. Vim is perfect for all kinds of text editing, from composing email to editing configuration files.</p>

<p>Despite what the above comic suggests, Vim can be configured to work in a very simple (Notepad-like) way, called evim or Easy Vim.</p>

<p>Vim is rock stable and is continuously being developed to become even better. Among its features are:</p>

<ul>
<li>persistent, multi-level undo tree</li>
<li>extensive plugin system</li>
<li>support for hundreds of programming languages and file formats</li>
<li>powerful search and replace</li>
<li>integrates with many tools</li>
</ul>
</blockquote>

<p>Vim 是经典的 UNIX 编辑器 Vi 的深度改良版本。它增加了许多功能，包括：多级撤销、格式高亮、命令行历史、在线帮助、拼写检查、文件名补完、块操作、脚本支持，等等。除了字符界面版本之外，它也有图形界面版本（比如 gVim）。虽然 Vi 还在继续维护当中，但是大部分人都只在使用 Vim 了，你所见到和听到的大多是指 Vim——虽然你的命令名可能是 Vi。</p>

<p>这个编辑器常用于程序员、系统管理员、黑客们进行编程和文本编辑。不像某些编辑器，它所有的命令都采用普通的键盘字符，因此在你的如飞般的十指之下，它的输入和操作速度非常快。当然，你也可以将功能键映射到某些命令上，甚至还可以支持鼠标。</p>

<p>除了 *Linux*之外，Vim 还可以运行在 MS-Windows （NT、2000、XP、Vista、7、8、10）、苹果、VMS 和几乎所有的 UNIX 分支上。 Vim 的旧版本还可以运行在 MS-DOS、MS-Windows 95/98/Me、Amiga DOS、Atari MiNT、BeOS、RISC OS 和 OS/2 上，不过新版本不再支持了。</p>

<p><strong>通常情况下，国内使用的Ubuntu安装的vim是阉割版。想要完整版需要重装。</strong></p>

<p>可以用</p>

<pre><code class="language-bash">vim -v
</code></pre>

<p>查看自己的版本号。</p>

<p>2016年Vim终于发布了8.0版本，结束了从2006年5月7日开始的7.0世代。目前的最新版本是2018年5月18日发布的8.1版本。</p>

<h3 id="2-新版功能">2、新版功能</h3>

<p>8.0 版本中除了大量的细节改进和错误修复以外，主要支持以下的新功能：</p>

<blockquote>
<h4 id="1-支持异步-i-o-和通道channel">1. <strong>支持异步 I/O 和通道channel</strong></h4>
</blockquote>

<p>Vim 现在可以和后台的其它进程进行消息交互。这样就可以开发一个运行在后台的服务器，并将结果发回给 Vim，这种交互方式称之为通道channel。在通道中使用 JSON 传递消息，因此你可以用任何一种语言来开发后台服务器，只需要它支持 JSON 即可。通过支持这种技术可以实现一些功能非常复杂的插件。</p>

<ul>
<li>不过我们一般用不到。</li>
</ul>

<blockquote>
<h4 id="2-任务">2. <strong>任务</strong></h4>
</blockquote>

<p>Vim 现在也能启动一个任务，并与之通讯或停止它。比如说，可以启动一个用于自动补完、格式检查等功能的进程。在任务和 Vim 之间的通讯是通过通道完成的。</p>

<ul>
<li>一般也用不到。</li>
</ul>

<blockquote>
<h4 id="3-定时器">3. <strong>定时器</strong></h4>
</blockquote>

<p>另外一个异步工作的是定时器timer，可以启动一个定时器并不断重复调用某个函数。比如：let tempTimer = timer_start(4000, &lsquo;CheckTemp&rsquo;) 。</p>

<blockquote>
<h4 id="4-partial">4. <strong>Partial</strong></h4>
</blockquote>

<p>Vim 已经有了一个 Funcref 功能，这是一个函数引用。partial 也是一个函数引用，但是它可以绑定参数或字典。这对于频道或定时器的回调很有用。 比如：let tempTimer = timer_start(4000, function(&lsquo;CheckTemp&rsquo;, [&lsquo;out&rsquo;])) 。</p>

<blockquote>
<h4 id="5-lambda-和闭包">5. <strong>Lambda 和闭包</strong></h4>
</blockquote>

<p>lambda 是创建函数最快的方式，比如：{args -&gt; expr}。它对于 filter() 和 map() 很有用，而且还支持函数参数。如：call filter(mylist, {idx, val -&gt; val &gt; 20})。</p>

<p>lambda 可以使用定义 lambda 表达式范围内的变量，这常被称之为闭包closure。</p>

<blockquote>
<h4 id="6-插件包">6. <strong>插件包</strong></h4>
</blockquote>

<p>插件越来越多了，为了更好的管理插件，因此支持了插件包的支持。</p>

<blockquote>
<h4 id="7-窗口-id">7. <strong>窗口 ID</strong></h4>
</blockquote>

<p>以前 Vim 中的窗口只能通过数字编号来访问，当打开、关闭或移动窗口时，这个数字也随之而变。现在每个窗口都有了一个唯一的 ID，可以更方便的找到它们。</p>

<blockquote>
<h4 id="8-折行缩进">8. <strong>折行缩进</strong></h4>
</blockquote>

<p>新增的 &lsquo;breakindent&rsquo; 选项可以保证在折行时维持缩进不变。</p>

<ul>
<li>这个可以配置。</li>
</ul>

<blockquote>
<h4 id="9-windows-支持-directx">9. <strong>Windows：支持 DirectX</strong></h4>
</blockquote>

<p>新增的 &lsquo;renderoptions&rsquo; 选项可以在 Windows 上切换到 DirectX （DirectWrite）引擎上。</p>

<blockquote>
<h4 id="10-支持-gtk-3">10. <strong>支持 GTK+ 3</strong></h4>
</blockquote>

<p>一般用户很难注意到 GTK+ 3 和 GTK+ 2 的区别。对这两者的配置仍然都支持。</p>

<p>更多的变化细节，可以参考官网。</p>

<p>8.1版本做了少部分进一步优化，增加了debugger插件。</p>

<h3 id="3-下载">3、下载:</h3>

<p>得到最新版本的 Vim 的最好方式是使用 Git ：</p>

<pre><code class="language-git">git clone https://github.com/vim/vim.git
</code></pre>

<p>更多信息可参考： <a href="http://www.vim.org/git.php">http://www.vim.org/git.php</a> 。</p>

<ol>
<li><strong>UNIX/Linux系统</strong></li>
</ol>

<p>源代码及运行时文件： <a href="ftp://ftp.vim.org/pub/vim/unix/vim-8.0.tar.bz2">ftp://ftp.vim.org/pub/vim/unix/vim-8.0.tar.bz2</a> 。</p>

<p>在 Linux 下，你总可以使用你的软件包管理器来安装最新的 Vim 8.0，不过如果你的发行版仓库还没有提供的新的 8.0 的话，你可以享受一下自己亲自动手编译vim的乐趣。</p>

<p>如果你希望按照你自己的想法定制一个 Vim，那你可以下载源代码，并在 src 目录里面进行编译，可以参考 文件 src/INSTALL 了解如何编译和安装。</p>

<ol>
<li><strong>Windows系统</strong></li>
</ol>

<pre><code class="language-bash">安装程序：`ftp://ftp.vim.org/pub/vim/pc/gvim80.exe`
运行文件：` ftp://ftp.vim.org/pub/vim/pc/vim80rt.zip`
Windows 95/98/NT/2000/XP/7 图形界面版：`ftp://ftp.vim.org/pub/vim/pc/gvim80.zip`
带有 OLE 支持的版本： `ftp://ftp.vim.org/pub/vim/pc/gvim80ole.zip`
Windows NT/2000/XP/7 字符界面版：`ftp://ftp.vim.org/pub/vim/pc/vim80w32.zip`
</code></pre>

<p>8.0 不再支持的版本</p>

<ol>
<li>16 位的 DOS、OS/2 和 Amiga 版本</li>
<li>32 位的 MS-DOS/Windows <sup>95</sup>&frasl;<sub>98</sub> 的字符界面版</li>
<li>16 位的 MS-Windows 版本</li>
</ol>

<h3 id="4-文档与帮助">4、文档与帮助</h3>

<p>对于初学者来说，有一个叫  vimtutor 的一小时教程可以看看（当然是英文的），可以通过在vim界限下输入 <code>:help tutor</code> 了解更多信息。</p>

<p>学习 Vim 的最好方式之一是在 Vim 中使用:help，如果你还没有 Vim 二进制程序，你也可以看看 runtime/doc/help.txt，它包含了对其它文档的指引。这个用户手册就像一本书一样，推荐使用它来学习 Vim。更详细的可以在vim界面下输入 <code>:help user-manual</code> 查看学习。</p>

<h2 id="三-常用配置">三、常用配置</h2>

<h3 id="1-全局配置">1、全局配置</h3>

<p>vim的全局配置在文件</p>

<pre><code class="language-bash">/etc/vim/vimrc
</code></pre>

<p>里。作为多用户管理系统，不建议直接修改这里的文件，因为会影响其他用户，在自己的家目录下修改vim配置，仅供自己使用就可以。当然，这个情况指的是你的Linux系统是供多人使用的。像我的Linux系统是装在我自己电脑的虚拟机上，我反而喜欢在系统配置文件里修改，这样我换了别的用户还是这样的配置。</p>

<p>我们可以先看一眼全局配置的内容：</p>

<pre><code class="language-bash">cat /etc/vim/vimrc
</code></pre>

<p>输出为：</p>

<pre><code class="language-bash">&quot; All system-wide defaults are set in $VIMRUNTIME/debian.vim and sourced by
&quot; the call to :runtime you can find below.  If you wish to change any of those
&quot; settings, you should do it in this file (/etc/vim/vimrc), since debian.vim
&quot; will be overwritten everytime an upgrade of the vim packages is performed.
&quot; It is recommended to make changes after sourcing debian.vim since it alters
&quot; the value of the 'compatible' option.

&quot; This line should not be removed as it ensures that various options are
&quot; properly set to work with the Vim-related packages available in Debian.
runtime! debian.vim

&quot; Uncomment the next line to make Vim more Vi-compatible
&quot; NOTE: debian.vim sets 'nocompatible'.  Setting 'compatible' changes numerous
&quot; options, so any other options should be set AFTER setting 'compatible'.
&quot;set compatible

&quot; Vim5 and later versions support syntax highlighting. Uncommenting the next
&quot; line enables syntax highlighting by default.
if has(&quot;syntax&quot;)
  syntax on
endif

&quot; If using a dark background within the editing area and syntax highlighting
&quot; turn on this option as well
&quot;set background=dark

&quot; Uncomment the following to have Vim jump to the last position when
&quot; reopening a file
&quot;if has(&quot;autocmd&quot;)
&quot;  au BufReadPost * if line(&quot;'\&quot;&quot;) &gt; 1 &amp;&amp; line(&quot;'\&quot;&quot;) &lt;= line(&quot;$&quot;) | exe &quot;normal! g'\&quot;&quot; | endif
&quot;endif

&quot; Uncomment the following to have Vim load indentation rules and plugins
&quot; according to the detected filetype.
&quot;if has(&quot;autocmd&quot;)
&quot;  filetype plugin indent on
&quot;endif

&quot; The following are commented out as they cause vim to behave a lot
&quot; differently from regular Vi. They are highly recommended though.
&quot;set showcmd        &quot; Show (partial) command in status line.
&quot;set showmatch      &quot; Show matching brackets.
&quot;set ignorecase     &quot; Do case insensitive matching
&quot;set smartcase      &quot; Do smart case matching
&quot;set incsearch      &quot; Incremental search
&quot;set autowrite      &quot; Automatically save before commands like :next and :make
&quot;set hidden     &quot; Hide buffers when they are abandoned
&quot;set mouse=a        &quot; Enable mouse usage (all modes)

&quot; Source a global configuration file if available
if filereadable(&quot;/etc/vim/vimrc.local&quot;)
  source /etc/vim/vimrc.local
endif
</code></pre>

<p>上面的是bash语言，大家只需要知道开头加 <code>&quot;</code> 是注释掉不起作用的意思即可。</p>

<p>我们先看一下39-40行说的是啥：下面的命令被注释掉，是因为它们会使得vim的操作和vi的通用操作不太一样，不过还是挺建议打开它们（如果你知道自己在做什么的情况下）。</p>

<p>下面再看看41-48行的命令是做什么的。</p>

<pre><code class="language-bash">&quot;set showcmd        &quot; 在vim的状态条里显示输入的命令。
&quot;set showmatch      &quot; 显示匹配成对的括号。
&quot;set ignorecase     &quot; 大小写不敏感。或者说不区分大小写。
&quot;set smartcase      &quot; 开启智能大小写匹配。就是自动帮你识别此时应该是大写还是小写。
&quot;set incsearch      &quot; 增量搜索。
&quot;set autowrite      &quot; 在输入一些修改命令前自动保存。
&quot;set hidden         &quot; 当缓存区不使用时清空。
&quot;set mouse=a        &quot; 在任何模式下允许鼠标的使用。就是可以用鼠标定位光标、以及大块选择。
</code></pre>

<p>所以上面这些其实都挺值得开启使用的。去掉开头的 <code>&quot;</code> 就可以了。</p>

<h3 id="2-个人配置">2、个人配置</h3>

<p>接下来讲在自己的用户目录下设置vim。</p>

<p>一般情况下在当前用户根目录 <strong>~/</strong> 下没有.vimrc文件，故直接建立该文件：</p>

<pre><code class="language-bash">vim ~/.vimrc
</code></pre>

<p>然后可以先设置如下内容：</p>

<pre><code class="language-bash">colorscheme desert  &quot;这个是设置颜色主题，我选的是沙漠主题，普通字体是黄沙色。
syntax on           &quot;这个是设置语法识别。就是识别编程语言的语法是否有问题。不过很简陋。
set number          &quot;这个是显示行号。我其实更建议这个写进全局配置里。因为每个用户应该都挺想知道自己现在在哪行。
set shiftwidth=4    &quot;这个是设置一个回车后的自动添加的缩进是4个空格。为的是和python的PEP8格式一致。像Java、C之类也有缩进的时候，这里也被设置为4了。
set softtabstop=4   &quot;这个是设置按一次tab键为4个空格。
set tabstop=4       &quot;设置和上面的区别是少了soft，也是设置按一次tab键为4个空格。
set expandtab
set showcmd         &quot;这个其实在全局配置里有。
set cursorline      &quot;设置在当前行显示横线以突出所在行。比较醒目自己现在在哪行了。
set mouse=a         &quot;这个其实在全局配置里有。
filetype indent on
set lazyredraw
set showmatch       &quot;这个其实在全局配置里有。
set incsearch       &quot;这个其实在全局配置里有。
</code></pre>

<p>改变vim配色：安装colorscheme</p>

<p>主要有两种方式安装colorscheme：</p>

<ol>
<li>自行下载colorscheme安装，下载的文件扩展名通常为.vim。</li>
<li>通过安装相关vim的插件获取。</li>
</ol>

<h3 id="1-自行下载colorscheme安装">1、自行下载colorscheme安装</h3>

<p>在vim的配置文件<code>.vimrc</code>中配色方案的设置<code>colorscheme foo</code>为：</p>

<pre><code>set t_Co=256 &quot; required
colorscheme desert12
</code></pre>

<p>不过有时候我们对于自带的配色方案不太满意，那要怎么自己安装一些配色方案呢？主要分三步：</p>

<ol>
<li>在当前用户目录 <code>~/</code> 下的 <code>.vim</code> 目录(如果没有，<code>mkdir ~/.vim</code>进行新建该目录)。在 <code>~/.vim/</code> 下新建一个叫 <code>colors</code>的目录，我们下一步下载的配色方案.vim文件便放到该目录下。</li>
<li>到一个配色网站上选择一个配色方案下载到 <code>~/.vim/colors</code> 目录下面。这里推荐一个非常好的网站: <a href="http://bytefluent.com/vivify/">A ColorScheme Editor for Vim</a>, 这个网站不仅有很多的配色方案可供选择，还能自行进行编辑(比如变亮或变暗)再下载。比如我们看好了一个叫molokai的配色方案，点击下载按钮后下载 molokai.vim 的文件到 <code>~/.vim/colors</code> 目录下面
<img src="./images/20160713204112504.png" alt="vivify" /></li>
<li>修改 <code>.vimrc</code> 配置文件：<code>colorscheme molokai</code>，退出再打开vim就能看到效果了。</li>
</ol>

<blockquote>
<p>注：网站上看到的配色方案效果仅供参考，不一定与实际使用的效果一样。</p>
</blockquote>

<h3 id="2-使用插件安装">2、使用插件安装</h3>

<p>vim插件：<a href="https://github.com/flazz/vim-colorschemes">https://github.com/flazz/vim-colorschemes</a>，使用插件管理器进行快速安装，安装完成后直接设置即可。</p>

<h3 id="3-自己写一个-colorscheme">3、自己写一个 colorscheme</h3>

<p>其实很简单，照葫芦画瓢即可，可以看我自己按照 spacemacs dark theme 修改的 <a href="https://github.com/liuchengxu/space-vim-dark">space-vim-dark</a> colorscheme,</p>

<p><img src="./images/space-vim-gui.png" alt="space-vim" /></p>

<p>打开 colors 下面的 colorscheme, 其实很简单，完全可以自己写一个，主要内容差不多都是这样：</p>

<pre><code>hi Function        ctermfg=134   guifg=#af5fd7 gui=bold            cterm=bold
hi Identifier      ctermfg=98    guifg=#875fd7 gui=bold           cterm=bold12
</code></pre>

<p>hi 就是 highlight，后面跟上一个类型，比如 Function, 就是指函数了，cterm 指的是 terminal 中的样式，比如加粗 bold，下划线 underline, gui 指的是 GUI vim中的样式，fg指的是 front ground前景色，bg 指的是 background 背景色, 基本就是如此了。</p>

<p>调教一番就能使用了。</p>

<p>reddit 上也有一个关于创建 Colorscheme 的讨论：<a href="https://www.reddit.com/r/vim/comments/7auw18/creating_your_lovely_color_scheme_vimconf2017/">Creating Your Lovely Color Scheme</a></p>

<p>Vim的颜色主题在</p>

<pre><code class="language-bash">/usr/share/vim/vim74/colors
</code></pre>

<p>文件夹里。其中<strong>vim74</strong>文件夹名跟你所使用的vim版本号有关，如果是7.3版本，则是vim73。打开vim后在normal模式下输入“：colorscheme”查看当前的主题，修改主题使用命令“：colorscheme mycolor”，其中mycolor是你usr/share/vim/vim74/colors文件夹包含的文件名。也可以把这个命令写入~/.vimrc配置文件中，这样每次打开Vim都是你设定的主题。</p>

<p><img src="./images/20140322133716468.jfif" alt="img" /></p>

<p>上面是默认就会安装的colorscheme选项。</p>

<pre><code>blue.vim      README.txt 
desert.vim    
koehler.vim  
peachpuff.vim  
slate.vim
darkblue.vim  
elflord.vim   
morning.vim      
torte.vim
default.vim   
evening.vim   
murphy.vim   
ron.vim        
zellner.vim
delek.vim     
industry.vim  
pablo.vim    
shine.vim
</code></pre>

<p>README.txt里的内容如下</p>

<blockquote>
<p>1 README.txt for color scheme files</p>

<p>2</p>

<p>3 These files are used for the &ldquo;:colorscheme&rdquo; command.  They appear in the</p>

<p>4 Edit/Color Scheme menu in the GUI.</p>

<p>5</p>

<p>6</p>

<p>7 Hints for writing a color scheme file:</p>

<p>8</p>

<p>9 There are two basic ways to define a color scheme:</p>

<p>10</p>

<p>11 1. Define a new Normal color and set the &lsquo;background&rsquo; option accordingly.</p>

<p>12     set background={light or dark}</p>

<p>13     highlight clear</p>

<p>14     highlight Normal &hellip;</p>

<p>15     &hellip;</p>

<p>16</p>

<p>17 2. Use the default Normal color and automatically adjust to the value of</p>

<p>18    &lsquo;background&rsquo;.</p>

<p>19     highlight clear Normal</p>

<p>20     set background&amp;</p>

<p>21     highlight clear</p>

<p>22     if &amp;background == &ldquo;light&rdquo;</p>

<p>23       highlight Error &hellip;</p>

<p>24       &hellip;</p>

<p>25     else</p>

<p>26       highlight Error &hellip;</p>

<p>27       &hellip;</p>

<p>28     endif</p>

<p>29</p>

<p>30 You can use &ldquo;:highlight clear&rdquo; to reset everything to the defaults, and then</p>

<p>31 change the groups that you want differently.  This also will work for groups</p>

<p>32 that are added in later versions of Vim.</p>

<p>33 Note that &ldquo;:highlight clear&rdquo; uses the value of &lsquo;background&rsquo;, thus set it</p>

<p>34 before this command.</p>

<p>35 Some attributes (e.g., bold) might be set in the defaults that you want</p>

<p>36 removed in your color scheme.  Use something like &ldquo;gui=NONE&rdquo; to remove the</p>

<p>37 attributes.</p>

<p>38</p>

<p>39 In case you want to set &lsquo;background&rsquo; depending on the colorscheme selected,</p>

<p>40 this autocmd might be useful:</p>

<p>41      autocmd SourcePre */colors/blue_sky.vim set background=dark</p>

<p>42 Replace &ldquo;blue_sky&rdquo; with the name of the colorscheme.</p>

<p>43</p>

<p>44 In case you want to tweak a colorscheme after it was loaded, check out that</p>

<p>45 ColorScheme autocmd event.</p>

<p>46</p>

<p>47 To see which highlight group is used where, find the help for</p>

<p>48 &ldquo;highlight-groups&rdquo; and &ldquo;group-name&rdquo;.</p>

<p>49</p>

<p>50 You can use &ldquo;:highlight&rdquo; to find out the current colors.  Exception: the</p>

<p>51 ctermfg and ctermbg values are numbers, which are only valid for the current</p>

<p>52 terminal.  Use the color names instead.  See &ldquo;:help cterm-colors&rdquo;.</p>

<p>53</p>

<p>54 The default color settings can be found in the source file src/syntax.c.</p>

<p>55 Search for &ldquo;highlight_init&rdquo;.</p>

<p>56</p>

<p>57 If you think you have a color scheme that is good enough to be used by others,</p>

<p>58 please check the following items:</p>

<p>59</p>

<p>60 - Does it work in a color terminal as well as in the GUI?</p>

<p>61 - Is &ldquo;g:colors_name&rdquo; set to a meaningful value?  In case of doubt you can do</p>

<p>62   it this way:</p>

<p>63     let g:colors_name = expand(&rsquo;<sfile>:t:r&rsquo;)</p>

<p>64 - Is &lsquo;background&rsquo; either used or appropriately set to &ldquo;light&rdquo; or &ldquo;dark&rdquo;?</p>

<p>65 - Try setting &lsquo;hlsearch&rsquo; and searching for a pattern, is the match easy to</p>

<p>66   spot?</p>

<p>67 - Split a window with &ldquo;:split&rdquo; and &ldquo;:vsplit&rdquo;.  Are the status lines and</p>

<p>68   vertical separators clearly visible?</p>

<p>69 - In the GUI, is it easy to find the cursor, also in a file with lots of</p>

<p>70   syntax highlighting?</p>

<p>71 - Do not use hard coded escape sequences, these will not work in other</p>

<p>72   terminals.  Always use color names or #RRGGBB for the GUI.</p>
</blockquote>

<p>下面给出几个主题的实例，选择自己喜欢的，让你的Vim炫起来！</p>

<p><img src="./images/20140322133754562.png" alt="img" /></p>

<p>上图是evening主题</p>

<p><img src="./images/20140322134009671.png" alt="img" /></p>

<p>上图murphy主题</p>

<p><img src="./images/20140322134203859.png" alt="img" /></p>

<p>上图peachpuff主题</p>

<h2 id="四-插件">四、插件</h2>

<h2 id="五-常用操作">五、常用操作</h2>

<h2 id="六-异常">六、异常</h2>

<h3 id="vim-youcompleteme异常">Vim YouCompleteMe异常</h3>

<p>异常信息如下：</p>

<pre><code class="language-bash">The ycmd server SHUT DOWN (restart with ':YcmRestartServer'). 
Unexpected error while loading the YCM core library. 
Use the ':YcmToggleLogs' command to check the logs.123
</code></pre>

<ol>
<li>重装YouCompleteMe</li>
</ol>

<pre><code>python3 YouCompleteMe/install.py --clang-completer --racer-completer1
</code></pre>

<ol>
<li>安装YouCompleteMe过程中提示cargo异常</li>
</ol>

<pre><code>ERROR: cargo is required for the Rust completer.1
</code></pre>

<p>如果提示cargo异常，需要安装cargo，命令如下：</p>

<pre><code>curl -sSf https://static.rust-lang.org/rustup.sh | sh1
</code></pre>

<p>cargo安装成功后再重试上述步骤1</p>

<h3 id="参考">参考</h3>

<blockquote>
<p><a href="https://github.com/Valloric/YouCompleteMe/issues/2579">“ycmd server SHUTDOWN” error</a></p>

<p><a href="http://doc.crates.io/">Cargo, Rust’s Package Manager</a></p>
</blockquote>

<h1 id="修改ubuntu终端中-vim插入模式下光标实现为竖线状">修改Ubuntu终端中，Vim插入模式下光标实现为竖线状</h1>

<p>2017年11月12日 20:57:31</p>

<p>阅读数：1207</p>

<p>原文：<a href="http://vim.wikia.com/wiki/Change_cursor_shape_in_different_modes">Change cursor shape in different modes</a></p>

<hr />

<p>不同终端版本修改代码不同。</p>

<p>使用如下命令查看Gnome-Terminal终端的版本：</p>

<pre><code>aptitude show gnome-terminal1
</code></pre>

<hr />

<p>To change the shape of the cursor in different modes, you can add the following into your vimrc.</p>

<p>将不同版本终端对应的代码添加到vimrc文件中即可。</p>

<p>我的终端版本为3.18***，vimrc文件位于etc/vim/vimrc</p>

<hr />

<h1 id="for-the-gnome-terminal-version-2-26-edit">For the Gnome-Terminal (version 2.26)Edit</h1>

<p>This makes your cursor change in all open terminals. Upgrade your terminal and use the version above instead.</p>

<pre><code>if has(&quot;autocmd&quot;)
  au InsertEnter * silent execute &quot;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape ibeam&quot;
  au InsertLeave * silent execute &quot;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape block&quot;
  au VimLeave * silent execute &quot;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape ibeam&quot;
endif12345
</code></pre>

<h1 id="for-the-gnome-terminal-version-3-x-edit">For the Gnome-Terminal (version 3.x)Edit</h1>

<p>First make a script gnome-terminal-cursor-shape.sh</p>

<pre><code>#!/bin/sh
DEFAULTPROF=`dconf read /org/gnome/terminal/legacy/profiles:/default`
DEFAULTPROF=`echo &quot;$DEFAULTPROF&quot; | sed -e &quot;s/^'/:/&quot; -e &quot;s/'$//&quot;`
dconf write /org/gnome/terminal/legacy/profiles:/$DEFAULTPROF/cursor-shape &quot;'$1'&quot;1234
</code></pre>

<p>Make it executable &amp; put it in /usr/local/bin Next, add this to .vimrc</p>

<pre><code>if has(&quot;autocmd&quot;)
    au InsertEnter *
        \ if v:insertmode == 'i' |
        \   silent execute &quot;!gnome-terminal-cursor-shape.sh ibeam&quot; |
        \ elseif v:insertmode == 'r' |
        \   silent execute &quot;!gnome-terminal-cursor-shape.sh underline&quot; |
        \ endif
    au InsertLeave * silent execute &quot;!gnome-terminal-cursor-shape.sh block&quot;
    au VimLeave * silent execute &quot;!gnome-terminal-cursor-shape.sh block&quot;
endif12345678910
</code></pre>

<p>If you use more than one profile in gnome-terminal, you might have to adapt this to your profiles.</p>

<h1 id="for-the-gnome-terminal-version-3-16-edit">For the Gnome-Terminal (version ≥3.16) Edit</h1>

<p>This method has the advantage compared to the method above that it influences the given tab only, and not all the tabs that use the given profile. Add the following into .vimrc</p>

<pre><code>if has(&quot;autocmd&quot;)
  au VimEnter,InsertLeave * silent execute '!echo -ne &quot;\e[2 q&quot;' | redraw!
  au InsertEnter,InsertChange *
    \ if v:insertmode == 'i' | 
    \   silent execute '!echo -ne &quot;\e[6 q&quot;' | redraw! |
    \ elseif v:insertmode == 'r' |
    \   silent execute '!echo -ne &quot;\e[4 q&quot;' | redraw! |
    \ endif
  au VimLeave * silent execute '!echo -ne &quot;\e[ q&quot;' | redraw!
endif12345678910
</code></pre>

<p>Above snippet disables cursor blinking. If you want cursor blink, just decrement all the 3 numbers above 2,4,6 by one each.</p>

<pre><code>if has(&quot;autocmd&quot;)
  au VimEnter,InsertLeave * silent execute '!echo -ne &quot;\e[1 q&quot;' | redraw!
  au InsertEnter,InsertChange *
    \ if v:insertmode == 'i' | 
    \   silent execute '!echo -ne &quot;\e[5 q&quot;' | redraw! |
    \ elseif v:insertmode == 'r' |
    \   silent execute '!echo -ne &quot;\e[3 q&quot;' | redraw! |
    \ endif
  au VimLeave * silent execute '!echo -ne &quot;\e[ q&quot;' | redraw!
endif
</code></pre>

<h1 id="ubuntu-aptitude命令详解">【Ubuntu】aptitude命令详解</h1>

<p>2017年02月28日 00:10:37</p>

<p>阅读数：2900</p>

<h1 id="aptitude">aptitude</h1>

<blockquote>
<p>aptitude 与 apt-get 一样，是 Debian 及其衍生系统中功能极其强大的包管理工具基于大名鼎鼎的APT机制, 整合了 dselect 和 apt-get 的所有功能, 并提供的更多特性,特别是在依赖关系处理上。。与 apt-get 不同的是，aptitude在处理依赖问题上更佳一些。举例来说，aptitude在删除一个包时，会同时删除本身所依赖的包。这样，系统中不会残留无用的包，整个系统更为干净。</p>
</blockquote>

<p>推荐使用aptitude命令来代替apt-get，下载或者删除依赖包的时候aptitude要比apt-get更好。不过aptitude和apt-get不能混用，要不然互相都不知道对方做了什么</p>

<h2 id="使用">使用</h2>

<hr />

<h3 id="1-语法">1. 语法</h3>

<pre><code class="language-bash">aptitude 选项 参数
</code></pre>

<h3 id="2-选项">2. 选项</h3>

<pre><code class="language-bash">-h：显示帮助信息
-d：仅下载软件包，不执行安装操作
-P：每一步操作都要求确认
-y：所有问题都回答“yes”
-v：显示附加信息； 
-u：启动时下载新的软件包列表
</code></pre>

<h3 id="3-参数">3. 参数</h3>

<p><strong>aptitude常用命令</strong></p>

<pre><code class="language-bash">aptitude update            更新可用的包列表
aptitude safe-upgrade      执行一次安全的升级
aptitude full-upgrade      将系统升级到新的发行版
aptitude install pkgname   安装包
aptitude remove pkgname    删除包
aptitude purge pkgname     删除包及其配置文件
aptitude search string     搜索包
aptitude show pkgname      显示包的详细信息
aptitude clean             删除下载的包文件
aptitude autoclean         仅删除过期的包文件
</code></pre>

<p>&mdash; EOF &mdash;</p>

<p>*EOF*是一个计算机术语，为End Of File的缩写，在操作系统中表示资料源无更多的资料可读取。通常在文本的最后存在此字符表示资料结束。</p>

<p>本人公众号[火山灰]，[time_ash_past]</p>

<p><img src="../../公众号.jpg" alt="" /></p>

  </main>
    

  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>

  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: '',
        appKey: '',
        notify: 'false',
        verify: 'false',
        avatar:'mm',
        placeholder: '说点什么吧...',
        visitor: 'true'
    });
  </script>


          <footer role="contentinfo">
  <div>
    <label for="themer">
      dark theme: <input type="checkbox" id="themer" class="vh">
      <span aria-hidden="true"></span>
    </label>
  </div>
  
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cupper-hugo-theme">Cupper</a>. Deployed to <a href="https://www.netlify.com/">Netlify</a>.
  
</footer>

        </div>
      </div>
    </div>
    <script src="https://sanbeichahegongheguo.github.io/js/prism.js"></script>
<script src="https://sanbeichahegongheguo.github.io/js/dom-scripts.js"></script>

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js" integrity="sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

    
  

  </body>
</html>
