<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>vim入门 - 个人随想</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="总舵主" />
  <meta name="description" content="今天讲讲编程常用的工具，vim。
" />







<meta name="generator" content="Hugo 0.83.1" />


<link rel="canonical" href="/post/%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C/vim%E5%85%A5%E9%97%A8/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css" integrity="sha256-s6iBPAbm14W&#43;uiK/gmThdPoss6OWsi&#43;bok4sAMGKr38=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="vim入门" />
<meta property="og:description" content="今天讲讲编程常用的工具，vim。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C/vim%E5%85%A5%E9%97%A8/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2001-12-31T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2001-12-31T00:00:00&#43;00:00" /><meta property="og:site_name" content="个人随想" />

<meta itemprop="name" content="vim入门">
<meta itemprop="description" content="今天讲讲编程常用的工具，vim。"><meta itemprop="datePublished" content="2001-12-31T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2001-12-31T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6035">
<meta itemprop="keywords" content="Vim,编程," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="vim入门"/>
<meta name="twitter:description" content="今天讲讲编程常用的工具，vim。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">火山灰</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">首页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">时间轴</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/about/">About</a>
          
        
      </li>
    <li class="mobile-menu-item">
        
        <div class="mobile-menu-parent mobile-menu-item-lang">
          <span class="mobile-submenu-open"></span>
          <a href="#">
            
            <i class="iconfont">
              
&lt;?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg width="100%" height="100%" version="1.1"
xmlns="http://www.w3.org/2000/svg">

<path d="M153 334
C153 334 151 334 151 334
C151 339 153 344 156 344
C164 344 171 339 171 334
C171 322 164 314 156 314
C142 314 131 322 131 334
C131 350 142 364 156 364
C175 364 191 350 191 334
C191 311 175 294 156 294
C131 294 111 311 111 334
C111 361 131 384 156 384
C186 384 211 361 211 334
C211 300 186 274 156 274"
style="fill:white;stroke:red;stroke-width:2"/>

</svg>

            </i>
            语言
          </a>
        </div>
        <ul class="mobile-submenu-list">
          
            <li>
              
                <a href="/"><strong></strong></a>
              
            </li>
          
            <li>
              
                <a href="/en/"></a>
              
            </li>
          
        </ul>
      </li>

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      火山灰
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">首页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">时间轴</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/about/">About</a>
          

        

      </li>
    

    
    <li class="menu-item">
        
        <a class="menu-item-link menu-parent menu-item-lang" href="#">
          
          <i class="iconfont">
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M912.569234 73.142857a88.429714 88.429714 0 0 1 88.576 89.161143v296.557714C1001.145234 732.562286 782.301806 950.857143 510.28352 950.857143A489.837714 489.837714 0 0 1 18.288091 458.861714V162.304A90.002286 90.002286 0 0 1 107.449234 73.142857h805.156572z m-402.285714 608a68.388571 68.388571 0 0 0 46.848-18.870857l230.838857-221.696a68.022857 68.022857 0 0 0 21.138286-48.566857 67.547429 67.547429 0 0 0-114.285714-48.566857l-184.576 177.152-184.576-177.152a67.328 67.328 0 0 0-46.299429-18.870857 67.547429 67.547429 0 0 0-46.884571 116.004571l231.424 221.696c11.995429 11.995429 29.147429 18.870857 46.299428 18.870857z"></path>
</svg>

          </i>
          
        </a>
        <ul class="submenu">
          
            
              <li>
                <a href="/">zh-cn</a>
              </li>
            
          
            
              <li>
                <a href="/en/">en</a>
              </li>
            
          
        </ul>
      </li>
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">vim入门</h1>
      
      <div class="post-meta">
        <time datetime="2001-12-31" class="post-time">
          2001-12-31
        </time>
        <div class="post-category">
            <a href="/categories/%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C/"> 编程世界 </a>
            
          </div>
        <span class="more-meta"> 约 6035 字 </span>
          <span class="more-meta"> 预计阅读 13 分钟 </span>

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#一vi介绍">一、vi介绍</a></li>
    <li><a href="#二vim介绍">二、vim介绍</a>
      <ul>
        <li><a href="#1基本介绍">1、基本介绍</a></li>
        <li><a href="#2新版功能">2、新版功能</a></li>
        <li><a href="#3下载">3、下载:</a></li>
        <li><a href="#4文档与帮助">4、文档与帮助</a></li>
      </ul>
    </li>
    <li><a href="#三常用配置">三、常用配置</a>
      <ul>
        <li><a href="#1全局配置">1、全局配置</a></li>
        <li><a href="#2个人配置">2、个人配置</a></li>
        <li><a href="#1自行下载colorscheme安装">1、自行下载colorscheme安装</a></li>
        <li><a href="#2使用插件安装">2、使用插件安装</a></li>
        <li><a href="#3自己写一个-colorscheme">3、自己写一个 colorscheme</a></li>
      </ul>
    </li>
    <li><a href="#四插件">四、插件</a></li>
    <li><a href="#五常用操作">五、常用操作</a></li>
    <li><a href="#六异常">六、异常</a>
      <ul>
        <li><a href="#vim-youcompleteme异常">Vim YouCompleteMe异常</a></li>
        <li><a href="#参考">参考</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>今天讲讲编程常用的工具，vim。</p>
<h2 id="一vi介绍">一、vi介绍</h2>
<h2 id="二vim介绍">二、vim介绍</h2>
<p><img src="./images/vim8.png" alt="img"></p>
<h3 id="1基本介绍">1、基本介绍</h3>
<p>先摘录一下官网：</p>
<p><img src="./images/0xbabaf000l.png" alt="img" title="comic">
Copyright (c) 2007 Laurent Gregoire</p>
<blockquote>
<p>Vim is a highly configurable text editor for efficiently creating and changing any kind of text. It is included as &ldquo;vi&rdquo; ith most UNIX systems and with Apple OS X.</p>
<p>Vim is often called a &ldquo;programmer&rsquo;s editor,&rdquo; and so useful for programming that many consider it an entire IDE. It&rsquo;s not just for programmers, though. Vim is perfect for all kinds of text editing, from composing email to editing configuration files.</p>
<p>Despite what the above comic suggests, Vim can be configured to work in a very simple (Notepad-like) way, called evim or Easy Vim.</p>
<p>Vim is rock stable and is continuously being developed to become even better. Among its features are:</p>
<ul>
<li>persistent, multi-level undo tree</li>
<li>extensive plugin system</li>
<li>support for hundreds of programming languages and file formats</li>
<li>powerful search and replace</li>
<li>integrates with many tools</li>
</ul>
</blockquote>
<p>Vim 是经典的 UNIX 编辑器 Vi 的深度改良版本。它增加了许多功能，包括：多级撤销、格式高亮、命令行历史、在线帮助、拼写检查、文件名补完、块操作、脚本支持，等等。除了字符界面版本之外，它也有图形界面版本（比如 gVim）。虽然 Vi 还在继续维护当中，但是大部分人都只在使用 Vim 了，你所见到和听到的大多是指 Vim——虽然你的命令名可能是 Vi。</p>
<p>这个编辑器常用于程序员、系统管理员、黑客们进行编程和文本编辑。不像某些编辑器，它所有的命令都采用普通的键盘字符，因此在你的如飞般的十指之下，它的输入和操作速度非常快。当然，你也可以将功能键映射到某些命令上，甚至还可以支持鼠标。</p>
<p>除了 <em>Linux</em>之外，Vim 还可以运行在 MS-Windows （NT、2000、XP、Vista、7、8、10）、苹果、VMS 和几乎所有的 UNIX 分支上。 Vim 的旧版本还可以运行在 MS-DOS、MS-Windows 95/98/Me、Amiga DOS、Atari MiNT、BeOS、RISC OS 和 OS/2 上，不过新版本不再支持了。</p>
<p><strong>通常情况下，国内使用的Ubuntu安装的vim是阉割版。想要完整版需要重装。</strong></p>
<p>可以用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">vim -v
</code></pre></td></tr></table>
</div>
</div><p>查看自己的版本号。</p>
<p>2016年Vim终于发布了8.0版本，结束了从2006年5月7日开始的7.0世代。目前的最新版本是2018年5月18日发布的8.1版本。</p>
<h3 id="2新版功能">2、新版功能</h3>
<p>8.0 版本中除了大量的细节改进和错误修复以外，主要支持以下的新功能：</p>
<blockquote>
<h4 id="1-支持异步-io-和通道channel">1. <strong>支持异步 I/O 和通道channel</strong></h4>
</blockquote>
<p>Vim 现在可以和后台的其它进程进行消息交互。这样就可以开发一个运行在后台的服务器，并将结果发回给 Vim，这种交互方式称之为通道channel。在通道中使用 JSON 传递消息，因此你可以用任何一种语言来开发后台服务器，只需要它支持 JSON 即可。通过支持这种技术可以实现一些功能非常复杂的插件。</p>
<ul>
<li>不过我们一般用不到。</li>
</ul>
<blockquote>
<h4 id="2-任务">2. <strong>任务</strong></h4>
</blockquote>
<p>Vim 现在也能启动一个任务，并与之通讯或停止它。比如说，可以启动一个用于自动补完、格式检查等功能的进程。在任务和 Vim 之间的通讯是通过通道完成的。</p>
<ul>
<li>一般也用不到。</li>
</ul>
<blockquote>
<h4 id="3-定时器">3. <strong>定时器</strong></h4>
</blockquote>
<p>另外一个异步工作的是定时器timer，可以启动一个定时器并不断重复调用某个函数。比如：let tempTimer = timer_start(4000, &lsquo;CheckTemp&rsquo;) 。</p>
<blockquote>
<h4 id="4-partial">4. <strong>Partial</strong></h4>
</blockquote>
<p>Vim 已经有了一个 Funcref 功能，这是一个函数引用。partial 也是一个函数引用，但是它可以绑定参数或字典。这对于频道或定时器的回调很有用。 比如：let tempTimer = timer_start(4000, function(&lsquo;CheckTemp&rsquo;, [&lsquo;out&rsquo;])) 。</p>
<blockquote>
<h4 id="5-lambda-和闭包">5. <strong>Lambda 和闭包</strong></h4>
</blockquote>
<p>lambda 是创建函数最快的方式，比如：{args -&gt; expr}。它对于 filter() 和 map() 很有用，而且还支持函数参数。如：call filter(mylist, {idx, val -&gt; val &gt; 20})。</p>
<p>lambda 可以使用定义 lambda 表达式范围内的变量，这常被称之为闭包closure。</p>
<blockquote>
<h4 id="6-插件包">6. <strong>插件包</strong></h4>
</blockquote>
<p>插件越来越多了，为了更好的管理插件，因此支持了插件包的支持。</p>
<blockquote>
<h4 id="7-窗口-id">7. <strong>窗口 ID</strong></h4>
</blockquote>
<p>以前 Vim 中的窗口只能通过数字编号来访问，当打开、关闭或移动窗口时，这个数字也随之而变。现在每个窗口都有了一个唯一的 ID，可以更方便的找到它们。</p>
<blockquote>
<h4 id="8-折行缩进">8. <strong>折行缩进</strong></h4>
</blockquote>
<p>新增的 &lsquo;breakindent&rsquo; 选项可以保证在折行时维持缩进不变。</p>
<ul>
<li>这个可以配置。</li>
</ul>
<blockquote>
<h4 id="9-windows支持-directx">9. <strong>Windows：支持 DirectX</strong></h4>
</blockquote>
<p>新增的 &lsquo;renderoptions&rsquo; 选项可以在 Windows 上切换到 DirectX （DirectWrite）引擎上。</p>
<blockquote>
<h4 id="10-支持-gtk-3">10. <strong>支持 GTK+ 3</strong></h4>
</blockquote>
<p>一般用户很难注意到 GTK+ 3 和 GTK+ 2 的区别。对这两者的配置仍然都支持。</p>
<p>更多的变化细节，可以参考官网。</p>
<p>8.1版本做了少部分进一步优化，增加了debugger插件。</p>
<h3 id="3下载">3、下载:</h3>
<p>得到最新版本的 Vim 的最好方式是使用 Git ：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">git clone https://github.com/vim/vim.git
</code></pre></td></tr></table>
</div>
</div><p>更多信息可参考： <a href="http://www.vim.org/git.php">http://www.vim.org/git.php</a> 。</p>
<ol>
<li><strong>UNIX/Linux系统</strong></li>
</ol>
<p>源代码及运行时文件： <a href="ftp://ftp.vim.org/pub/vim/unix/vim-8.0.tar.bz2">ftp://ftp.vim.org/pub/vim/unix/vim-8.0.tar.bz2</a> 。</p>
<p>在 Linux 下，你总可以使用你的软件包管理器来安装最新的 Vim 8.0，不过如果你的发行版仓库还没有提供的新的 8.0 的话，你可以享受一下自己亲自动手编译vim的乐趣。</p>
<p>如果你希望按照你自己的想法定制一个 Vim，那你可以下载源代码，并在 src 目录里面进行编译，可以参考 文件 src/INSTALL 了解如何编译和安装。</p>
<ol start="2">
<li><strong>Windows系统</strong></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">安装程序：<span class="sb">`</span>ftp://ftp.vim.org/pub/vim/pc/gvim80.exe<span class="sb">`</span>
运行文件：<span class="sb">`</span> ftp://ftp.vim.org/pub/vim/pc/vim80rt.zip<span class="sb">`</span>
Windows 95/98/NT/2000/XP/7 图形界面版：<span class="sb">`</span>ftp://ftp.vim.org/pub/vim/pc/gvim80.zip<span class="sb">`</span>
带有 OLE 支持的版本： <span class="sb">`</span>ftp://ftp.vim.org/pub/vim/pc/gvim80ole.zip<span class="sb">`</span>
Windows NT/2000/XP/7 字符界面版：<span class="sb">`</span>ftp://ftp.vim.org/pub/vim/pc/vim80w32.zip<span class="sb">`</span>
</code></pre></td></tr></table>
</div>
</div><p>8.0 不再支持的版本</p>
<ol>
<li>16 位的 DOS、OS/2 和 Amiga 版本</li>
<li>32 位的 MS-DOS/Windows 95/98 的字符界面版</li>
<li>16 位的 MS-Windows 版本</li>
</ol>
<h3 id="4文档与帮助">4、文档与帮助</h3>
<p>对于初学者来说，有一个叫  vimtutor 的一小时教程可以看看（当然是英文的），可以通过在vim界限下输入 <code>:help tutor</code> 了解更多信息。</p>
<p>学习 Vim 的最好方式之一是在 Vim 中使用:help，如果你还没有 Vim 二进制程序，你也可以看看 runtime/doc/help.txt，它包含了对其它文档的指引。这个用户手册就像一本书一样，推荐使用它来学习 Vim。更详细的可以在vim界面下输入 <code>:help user-manual</code> 查看学习。</p>
<h2 id="三常用配置">三、常用配置</h2>
<h3 id="1全局配置">1、全局配置</h3>
<p>vim的全局配置在文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/vim/vimrc
</code></pre></td></tr></table>
</div>
</div><p>里。作为多用户管理系统，不建议直接修改这里的文件，因为会影响其他用户，在自己的家目录下修改vim配置，仅供自己使用就可以。当然，这个情况指的是你的Linux系统是供多人使用的。像我的Linux系统是装在我自己电脑的虚拟机上，我反而喜欢在系统配置文件里修改，这样我换了别的用户还是这样的配置。</p>
<p>我们可以先看一眼全局配置的内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">cat /etc/vim/vimrc
</code></pre></td></tr></table>
</div>
</div><p>输出为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s2">&#34; All system-wide defaults are set in </span><span class="nv">$VIMRUNTIME</span><span class="s2">/debian.vim and sourced by
</span><span class="s2">&#34;</span> the call to :runtime you can find below.  If you wish to change any of those
<span class="s2">&#34; settings, you should do it in this file (/etc/vim/vimrc), since debian.vim
</span><span class="s2">&#34;</span> will be overwritten everytime an upgrade of the vim packages is performed.
<span class="s2">&#34; It is recommended to make changes after sourcing debian.vim since it alters
</span><span class="s2">&#34;</span> the value of the <span class="s1">&#39;compatible&#39;</span> option.

<span class="s2">&#34; This line should not be removed as it ensures that various options are
</span><span class="s2">&#34;</span> properly <span class="nb">set</span> to work with the Vim-related packages available in Debian.
runtime! debian.vim

<span class="s2">&#34; Uncomment the next line to make Vim more Vi-compatible
</span><span class="s2">&#34;</span> NOTE: debian.vim sets <span class="s1">&#39;nocompatible&#39;</span>.  Setting <span class="s1">&#39;compatible&#39;</span> changes numerous
<span class="s2">&#34; options, so any other options should be set AFTER setting &#39;compatible&#39;.
</span><span class="s2">&#34;</span><span class="nb">set</span> compatible

<span class="s2">&#34; Vim5 and later versions support syntax highlighting. Uncommenting the next
</span><span class="s2">&#34;</span> line enables syntax highlighting by default.
<span class="k">if</span> has<span class="o">(</span><span class="s2">&#34;syntax&#34;</span><span class="o">)</span>
  syntax on
endif

<span class="s2">&#34; If using a dark background within the editing area and syntax highlighting
</span><span class="s2">&#34;</span> turn on this option as well
<span class="s2">&#34;set background=dark
</span><span class="s2">
</span><span class="s2">&#34;</span> Uncomment the following to have Vim jump to the last position when
<span class="s2">&#34; reopening a file
</span><span class="s2">&#34;</span><span class="k">if</span> has<span class="o">(</span><span class="s2">&#34;autocmd&#34;</span><span class="o">)</span>
<span class="s2">&#34;  au BufReadPost * if line(&#34;</span><span class="s1">&#39;\&#34;&#34;) &gt; 1 &amp;&amp; line(&#34;&#39;</span><span class="se">\&#34;</span><span class="s2">&#34;) &lt;= line(&#34;$&#34;) | exe &#34;</span>normal! g<span class="err">&#39;</span><span class="se">\&#34;</span><span class="s2">&#34; | endif
</span><span class="s2">&#34;</span>endif

<span class="s2">&#34; Uncomment the following to have Vim load indentation rules and plugins
</span><span class="s2">&#34;</span> according to the detected filetype.
<span class="s2">&#34;if has(&#34;</span>autocmd<span class="s2">&#34;)
</span><span class="s2">&#34;</span>  filetype plugin indent on
<span class="s2">&#34;endif
</span><span class="s2">
</span><span class="s2">&#34;</span> The following are commented out as they cause vim to behave a lot
<span class="s2">&#34; differently from regular Vi. They are highly recommended though.
</span><span class="s2">&#34;</span><span class="nb">set</span> showcmd		<span class="s2">&#34; Show (partial) command in status line.
</span><span class="s2">&#34;</span><span class="nb">set</span> showmatch		<span class="s2">&#34; Show matching brackets.
</span><span class="s2">&#34;</span><span class="nb">set</span> ignorecase		<span class="s2">&#34; Do case insensitive matching
</span><span class="s2">&#34;</span><span class="nb">set</span> smartcase		<span class="s2">&#34; Do smart case matching
</span><span class="s2">&#34;</span><span class="nb">set</span> incsearch		<span class="s2">&#34; Incremental search
</span><span class="s2">&#34;</span><span class="nb">set</span> autowrite		<span class="s2">&#34; Automatically save before commands like :next and :make
</span><span class="s2">&#34;</span><span class="nb">set</span> hidden		<span class="s2">&#34; Hide buffers when they are abandoned
</span><span class="s2">&#34;</span><span class="nb">set</span> <span class="nv">mouse</span><span class="o">=</span>a		<span class="s2">&#34; Enable mouse usage (all modes)
</span><span class="s2">
</span><span class="s2">&#34;</span> Source a global configuration file <span class="k">if</span> available
<span class="k">if</span> filereadable<span class="o">(</span><span class="s2">&#34;/etc/vim/vimrc.local&#34;</span><span class="o">)</span>
  <span class="nb">source</span> /etc/vim/vimrc.local
endif
</code></pre></td></tr></table>
</div>
</div><p>上面的是bash语言，大家只需要知道开头加 <code>&quot;</code> 是注释掉不起作用的意思即可。</p>
<p>我们先看一下39-40行说的是啥：下面的命令被注释掉，是因为它们会使得vim的操作和vi的通用操作不太一样，不过还是挺建议打开它们（如果你知道自己在做什么的情况下）。</p>
<p>下面再看看41-48行的命令是做什么的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s2">&#34;set showcmd		&#34;</span> 在vim的状态条里显示输入的命令。
<span class="s2">&#34;set showmatch		&#34;</span> 显示匹配成对的括号。
<span class="s2">&#34;set ignorecase		&#34;</span> 大小写不敏感。或者说不区分大小写。
<span class="s2">&#34;set smartcase		&#34;</span> 开启智能大小写匹配。就是自动帮你识别此时应该是大写还是小写。
<span class="s2">&#34;set incsearch		&#34;</span> 增量搜索。
<span class="s2">&#34;set autowrite		&#34;</span> 在输入一些修改命令前自动保存。
<span class="s2">&#34;set hidden		    &#34;</span> 当缓存区不使用时清空。
<span class="s2">&#34;set mouse=a		&#34;</span> 在任何模式下允许鼠标的使用。就是可以用鼠标定位光标、以及大块选择。
</code></pre></td></tr></table>
</div>
</div><p>所以上面这些其实都挺值得开启使用的。去掉开头的 <code>&quot;</code> 就可以了。</p>
<h3 id="2个人配置">2、个人配置</h3>
<p>接下来讲在自己的用户目录下设置vim。</p>
<p>一般情况下在当前用户根目录 <strong>~/</strong> 下没有.vimrc文件，故直接建立该文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">vim ~/.vimrc
</code></pre></td></tr></table>
</div>
</div><p>然后可以先设置如下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">colorscheme desert	<span class="s2">&#34;这个是设置颜色主题，我选的是沙漠主题，普通字体是黄沙色。
</span><span class="s2">syntax on			&#34;</span>这个是设置语法识别。就是识别编程语言的语法是否有问题。不过很简陋。
<span class="nb">set</span> number			<span class="s2">&#34;这个是显示行号。我其实更建议这个写进全局配置里。因为每个用户应该都挺想知道自己现在在哪行。
</span><span class="s2">set shiftwidth=4	&#34;</span>这个是设置一个回车后的自动添加的缩进是4个空格。为的是和python的PEP8格式一致。像Java、C之类也有缩进的时候，这里也被设置为4了。
<span class="nb">set</span> <span class="nv">softtabstop</span><span class="o">=</span>4	<span class="s2">&#34;这个是设置按一次tab键为4个空格。
</span><span class="s2">set tabstop=4		&#34;</span>设置和上面的区别是少了soft，也是设置按一次tab键为4个空格。
<span class="nb">set</span> expandtab
<span class="nb">set</span> showcmd			<span class="s2">&#34;这个其实在全局配置里有。
</span><span class="s2">set cursorline		&#34;</span>设置在当前行显示横线以突出所在行。比较醒目自己现在在哪行了。
<span class="nb">set</span> <span class="nv">mouse</span><span class="o">=</span>a			<span class="s2">&#34;这个其实在全局配置里有。
</span><span class="s2">filetype indent on
</span><span class="s2">set lazyredraw
</span><span class="s2">set showmatch		&#34;</span>这个其实在全局配置里有。
<span class="nb">set</span> incsearch		<span class="s2">&#34;这个其实在全局配置里有。
</span></code></pre></td></tr></table>
</div>
</div><p>改变vim配色：安装colorscheme</p>
<p>主要有两种方式安装colorscheme：</p>
<ol>
<li>自行下载colorscheme安装，下载的文件扩展名通常为.vim。</li>
<li>通过安装相关vim的插件获取。</li>
</ol>
<h3 id="1自行下载colorscheme安装">1、自行下载colorscheme安装</h3>
<p>在vim的配置文件<code>.vimrc</code>中配色方案的设置<code>colorscheme foo</code>为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">set t_Co=256 &#34; required
colorscheme desert12
</code></pre></td></tr></table>
</div>
</div><p>不过有时候我们对于自带的配色方案不太满意，那要怎么自己安装一些配色方案呢？主要分三步：</p>
<ol>
<li>在当前用户目录 <code>~/</code> 下的 <code>.vim</code> 目录(如果没有，<code>mkdir ~/.vim</code>进行新建该目录)。在 <code>~/.vim/</code> 下新建一个叫 <code>colors</code>的目录，我们下一步下载的配色方案.vim文件便放到该目录下。</li>
<li>到一个配色网站上选择一个配色方案下载到 <code>~/.vim/colors</code> 目录下面。这里推荐一个非常好的网站: <a href="http://bytefluent.com/vivify/">A ColorScheme Editor for Vim</a>, 这个网站不仅有很多的配色方案可供选择，还能自行进行编辑(比如变亮或变暗)再下载。比如我们看好了一个叫molokai的配色方案，点击下载按钮后下载 molokai.vim 的文件到 <code>~/.vim/colors</code> 目录下面 
<img src="./images/20160713204112504.png" alt="vivify"></li>
<li>修改 <code>.vimrc</code> 配置文件：<code>colorscheme molokai</code>，退出再打开vim就能看到效果了。</li>
</ol>
<blockquote>
<p>注：网站上看到的配色方案效果仅供参考，不一定与实际使用的效果一样。</p>
</blockquote>
<h3 id="2使用插件安装">2、使用插件安装</h3>
<p>vim插件：<a href="https://github.com/flazz/vim-colorschemes">https://github.com/flazz/vim-colorschemes</a>，使用插件管理器进行快速安装，安装完成后直接设置即可。</p>
<h3 id="3自己写一个-colorscheme">3、自己写一个 colorscheme</h3>
<p>其实很简单，照葫芦画瓢即可，可以看我自己按照 spacemacs dark theme 修改的 <a href="https://github.com/liuchengxu/space-vim-dark">space-vim-dark</a> colorscheme,</p>
<p><img src="./images/space-vim-gui.png" alt="space-vim"></p>
<p>打开 colors 下面的 colorscheme, 其实很简单，完全可以自己写一个，主要内容差不多都是这样：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">hi Function        ctermfg=134   guifg=#af5fd7 gui=bold            cterm=bold
hi Identifier      ctermfg=98    guifg=#875fd7 gui=bold           cterm=bold12
</code></pre></td></tr></table>
</div>
</div><p>hi 就是 highlight，后面跟上一个类型，比如 Function, 就是指函数了，cterm 指的是 terminal 中的样式，比如加粗 bold，下划线 underline, gui 指的是 GUI vim中的样式，fg指的是 front ground前景色，bg 指的是 background 背景色, 基本就是如此了。</p>
<p>调教一番就能使用了。</p>
<p>reddit 上也有一个关于创建 Colorscheme 的讨论：<a href="https://www.reddit.com/r/vim/comments/7auw18/creating_your_lovely_color_scheme_vimconf2017/">Creating Your Lovely Color Scheme</a></p>
<p>Vim的颜色主题在</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/usr/share/vim/vim74/colors
</code></pre></td></tr></table>
</div>
</div><p>文件夹里。其中<strong>vim74</strong>文件夹名跟你所使用的vim版本号有关，如果是7.3版本，则是vim73。打开vim后在normal模式下输入“：colorscheme”查看当前的主题，修改主题使用命令“：colorscheme mycolor”，其中mycolor是你usr/share/vim/vim74/colors文件夹包含的文件名。也可以把这个命令写入~/.vimrc配置文件中，这样每次打开Vim都是你设定的主题。</p>
<p><img src="./images/20140322133716468.jfif" alt="img"></p>
<p>上面是默认就会安装的colorscheme选项。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">blue.vim      README.txt 
desert.vim    
koehler.vim  
peachpuff.vim  
slate.vim
darkblue.vim  
elflord.vim   
morning.vim      
torte.vim
default.vim   
evening.vim   
murphy.vim   
ron.vim        
zellner.vim
delek.vim     
industry.vim  
pablo.vim    
shine.vim
</code></pre></td></tr></table>
</div>
</div><p>README.txt里的内容如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">README.txt for color scheme files 

These files are used for the &#34;:colorscheme&#34; command.  They appear in the

Edit/Color Scheme menu in the GUI.

Hints for writing a color scheme file:

There are two basic ways to define a color scheme:

1. Define a new Normal color and set the &#39;background&#39; option accordingly.

     set background={light or dark}
     highlight clear
     highlight Normal ...
     ...

2. Use the default Normal color and automatically adjust to the value of
    &#39;background&#39;.
     highlight clear Normal
     set background&amp;
     highlight clear
     if &amp;background == &#34;light&#34;
       highlight Error ...
       ...
     else
       highlight Error ...
       ...
     endif
You can use &#34;:highlight clear&#34; to reset everything to the defaults, and then
change the groups that you want differently.  This also will work for groups
that are added in later versions of Vim.

Note that &#34;:highlight clear&#34; uses the value of &#39;background&#39;, thus set it
before this command.

Some attributes (e.g., bold) might be set in the defaults that you want
removed in your color scheme.  Use something like &#34;gui=NONE&#34; to remove the
attributes.

In case you want to set &#39;background&#39; depending on the colorscheme selected,
this autocmd might be useful:

      autocmd SourcePre */colors/blue_sky.vim set background=dark

Replace &#34;blue_sky&#34; with the name of the colorscheme.

In case you want to tweak a colorscheme after it was loaded, check out that
ColorScheme autocmd event.

To see which highlight group is used where, find the help for

&#34;highlight-groups&#34; and &#34;group-name&#34;.

You can use &#34;:highlight&#34; to find out the current colors.  Exception: the
ctermfg and ctermbg values are numbers, which are only valid for the current
terminal.  Use the color names instead.  See &#34;:help cterm-colors&#34;.

The default color settings can be found in the source file src/syntax.c.
Search for &#34;highlight_init&#34;.

If you think you have a color scheme that is good enough to be used by others,
please check the following items:

 - Does it work in a color terminal as well as in the GUI?
 - Is &#34;g:colors_name&#34; set to a meaningful value?  In case of doubt you can do
   it this way:
     let g:colors_name = expand(&#39;&lt;sfile&gt;:t:r&#39;)
 - Is &#39;background&#39; either used or appropriately set to &#34;light&#34; or &#34;dark&#34;?
 - Try setting &#39;hlsearch&#39; and searching for a pattern, is the match easy to
   spot?
 - Split a window with &#34;:split&#34; and &#34;:vsplit&#34;.  Are the status lines and
   vertical separators clearly visible?
 - In the GUI, is it easy to find the cursor, also in a file with lots of
   syntax highlighting?
 - Do not use hard coded escape sequences, these will not work in other
   terminals.  Always use color names or #RRGGBB for the GUI.    
</code></pre></td></tr></table>
</div>
</div><p>下面给出几个主题的实例，选择自己喜欢的，让你的Vim炫起来！</p>
<p><img src="./images/20140322133754562.png" alt="img"></p>
<p>上图是evening主题</p>
<p><img src="./images/20140322134009671.png" alt="img"></p>
<p>上图murphy主题</p>
<p><img src="./images/20140322134203859.png" alt="img"></p>
<p>上图peachpuff主题</p>
<h2 id="四插件">四、插件</h2>
<h2 id="五常用操作">五、常用操作</h2>
<h2 id="六异常">六、异常</h2>
<h3 id="vim-youcompleteme异常">Vim YouCompleteMe异常</h3>
<p>异常信息如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">The ycmd server SHUT DOWN <span class="o">(</span>restart with <span class="s1">&#39;:YcmRestartServer&#39;</span><span class="o">)</span>. 
Unexpected error <span class="k">while</span> loading the YCM core library. 
Use the <span class="s1">&#39;:YcmToggleLogs&#39;</span> <span class="nb">command</span> to check the logs.123
</code></pre></td></tr></table>
</div>
</div><ol>
<li>重装YouCompleteMe</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">python3 YouCompleteMe/install.py --clang-completer --racer-completer1
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>安装YouCompleteMe过程中提示cargo异常</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ERROR: cargo is required for the Rust completer.1
</code></pre></td></tr></table>
</div>
</div><p>如果提示cargo异常，需要安装cargo，命令如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -sSf https://static.rust-lang.org/rustup.sh | sh1
</code></pre></td></tr></table>
</div>
</div><p>cargo安装成功后再重试上述步骤1</p>
<h3 id="参考">参考</h3>
<blockquote>
<p><a href="https://github.com/Valloric/YouCompleteMe/issues/2579">“ycmd server SHUTDOWN” error</a></p>
<p><a href="http://doc.crates.io/">Cargo, Rust’s Package Manager</a></p>
</blockquote>
<h1 id="ubuntu终端中修改vim插入模式下光标实现为竖线状">Ubuntu终端中，修改Vim插入模式下光标实现为竖线状</h1>
<p>2017年11月12日 20:57:31</p>
<p>阅读数：1207</p>
<p>原文：<a href="http://vim.wikia.com/wiki/Change_cursor_shape_in_different_modes">Change cursor shape in different modes</a></p>
<hr>
<p>不同终端版本修改代码不同。</p>
<p>使用如下命令查看Gnome-Terminal终端的版本：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">aptitude show gnome-terminal1
</code></pre></td></tr></table>
</div>
</div><hr>
<p>To change the shape of the cursor in different modes, you can add the following into your vimrc.</p>
<p>将不同版本终端对应的代码添加到vimrc文件中即可。</p>
<p>我的终端版本为3.18***，vimrc文件位于etc/vim/vimrc</p>
<hr>
<h1 id="for-the-gnome-terminal-version-226edit">For the Gnome-Terminal (version 2.26)Edit</h1>
<p>This makes your cursor change in all open terminals. Upgrade your terminal and use the version above instead.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">if has(&#34;autocmd&#34;)
  au InsertEnter * silent execute &#34;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape ibeam&#34;
  au InsertLeave * silent execute &#34;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape block&#34;
  au VimLeave * silent execute &#34;!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape ibeam&#34;
endif12345
</code></pre></td></tr></table>
</div>
</div><h1 id="for-the-gnome-terminal-version-3xedit">For the Gnome-Terminal (version 3.x)Edit</h1>
<p>First make a script gnome-terminal-cursor-shape.sh</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/sh
</span><span class="cp"></span><span class="nv">DEFAULTPROF</span><span class="o">=</span><span class="sb">`</span>dconf <span class="nb">read</span> /org/gnome/terminal/legacy/profiles:/default<span class="sb">`</span>
<span class="nv">DEFAULTPROF</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$DEFAULTPROF</span><span class="s2">&#34;</span> <span class="p">|</span> sed -e <span class="s2">&#34;s/^&#39;/:/&#34;</span> -e <span class="s2">&#34;s/&#39;</span>$<span class="s2">//&#34;</span><span class="sb">`</span>
dconf write /org/gnome/terminal/legacy/profiles:/<span class="nv">$DEFAULTPROF</span>/cursor-shape <span class="s2">&#34;&#39;</span><span class="nv">$1</span><span class="s2">&#39;&#34;</span><span class="m">1234</span>
</code></pre></td></tr></table>
</div>
</div><p>Make it executable &amp; put it in /usr/local/bin Next, add this to .vimrc</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">if has(&#34;autocmd&#34;)
    au InsertEnter *
        \ if v:insertmode == &#39;i&#39; |
        \   silent execute &#34;!gnome-terminal-cursor-shape.sh ibeam&#34; |
        \ elseif v:insertmode == &#39;r&#39; |
        \   silent execute &#34;!gnome-terminal-cursor-shape.sh underline&#34; |
        \ endif
    au InsertLeave * silent execute &#34;!gnome-terminal-cursor-shape.sh block&#34;
    au VimLeave * silent execute &#34;!gnome-terminal-cursor-shape.sh block&#34;
endif12345678910
</code></pre></td></tr></table>
</div>
</div><p>If you use more than one profile in gnome-terminal, you might have to adapt this to your profiles.</p>
<h1 id="for-the-gnome-terminal-version-316-edit">For the Gnome-Terminal (version ≥3.16) Edit</h1>
<p>This method has the advantage compared to the method above that it influences the given tab only, and not all the tabs that use the given profile. Add the following into .vimrc</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">if has(&#34;autocmd&#34;)
  au VimEnter,InsertLeave * silent execute &#39;!echo -ne &#34;\e[2 q&#34;&#39; | redraw!
  au InsertEnter,InsertChange *
    \ if v:insertmode == &#39;i&#39; | 
    \   silent execute &#39;!echo -ne &#34;\e[6 q&#34;&#39; | redraw! |
    \ elseif v:insertmode == &#39;r&#39; |
    \   silent execute &#39;!echo -ne &#34;\e[4 q&#34;&#39; | redraw! |
    \ endif
  au VimLeave * silent execute &#39;!echo -ne &#34;\e[ q&#34;&#39; | redraw!
endif12345678910
</code></pre></td></tr></table>
</div>
</div><p>Above snippet disables cursor blinking. If you want cursor blink, just decrement all the 3 numbers above 2,4,6 by one each.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">if has(&#34;autocmd&#34;)
  au VimEnter,InsertLeave * silent execute &#39;!echo -ne &#34;\e[1 q&#34;&#39; | redraw!
  au InsertEnter,InsertChange *
    \ if v:insertmode == &#39;i&#39; | 
    \   silent execute &#39;!echo -ne &#34;\e[5 q&#34;&#39; | redraw! |
    \ elseif v:insertmode == &#39;r&#39; |
    \   silent execute &#39;!echo -ne &#34;\e[3 q&#34;&#39; | redraw! |
    \ endif
  au VimLeave * silent execute &#39;!echo -ne &#34;\e[ q&#34;&#39; | redraw!
endif
</code></pre></td></tr></table>
</div>
</div><p>&mdash;EOF&mdash;</p>
<p><em>EOF</em>是一个计算机术语，为<code>End Of File</code>的缩写，在操作系统中表示资料源无更多的资料可读取。通常在文本的最后存在此字符表示资料结束。</p>
<p>本人公众号<code>火山灰</code>，亦可搜<code>time_ash_past</code>。</p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">总舵主</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2001-12-31
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/wechat-pay.jpg">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/pulic.jpg">
        <span>公众号</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/vim/">Vim</a>
          <a href="/tags/%E7%BC%96%E7%A8%8B/">编程</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/%E6%94%BF%E6%B2%BB%E6%95%85%E4%BA%8B/%E4%BB%8A%E4%B9%8B%E8%A7%86%E6%98%94/%E6%96%B0%E4%B8%AD%E5%9B%BD%E7%A6%81%E5%A8%BC%E6%88%98%E7%BA%AA%E5%AE%9E%E5%8C%97%E4%BA%AC%E4%B8%80%E5%A4%A9%E4%B9%8B%E5%86%85%E4%B8%80%E9%94%85%E7%AB%AF/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">新中国禁娼战纪实：北京一天之内一锅端</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git%E5%85%A5%E9%97%A8/">
            <span class="next-text nav-default">Git入门</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

<ul>...</ul>
</div>


  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "sanbeichahegongheguo/sanbeichahegongheguo.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  


<a href="/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2017 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        总舵主
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>



  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG"
    crossorigin="anonymous">

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
    crossorigin="anonymous" onload="renderMathInElement(document.body);">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        
      });
    });
  </script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  




  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>












</body>
</html>
